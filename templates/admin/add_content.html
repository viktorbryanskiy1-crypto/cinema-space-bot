<!-- templates/admin/add_content.html -->
{% extends 'admin/base.html' %}
{% block title %}Добавить контент{% endblock %}
{% block content %}
<h2>Добавить новый контент</h2>

<!-- Отображение ошибок, если они есть -->
{% if error %}
<div style="color: red; margin-bottom: 15px;">
    <strong>Ошибка:</strong> {{ error }}
</div>
{% endif %}

<form method="POST" action="{{ url_for('admin_add_content') }}" enctype="multipart/form-data">
    <label for="content_type">Тип контента:</label>
    <select name="content_type" id="content_type" required>
        <option value="">Выберите тип...</option>
        <option value="moment">Момент</option>
        <option value="trailer">Трейлер</option>
        <option value="news">Новость</option>
    </select>
    <br><br>

    <label for="title">Название/Заголовок:</label>
    <input type="text" name="title" id="title" required>
    <br><br>

    <label for="description">Описание/Текст:</label>
    <textarea name="description" id="description"></textarea>
    <br><br>

    <h3>Видео</h3>
    <label for="telegram_url">Добавить видео через ссылку Telegram:</label>
    <input type="text" name="telegram_url" id="telegram_url" placeholder="https://t.me/ваш_канал/123">
    <br><br>

    <label for="video_file">Или загрузить видео с компьютера:</label>
    <input type="file" name="video_file" id="video_file" accept="video/*">
    <br><br>
    
    <!-- НОВОЕ: Раздел для превью -->
    <h3>Превью (миниатюра)</h3>
    <label for="preview_telegram_url">Добавить превью через ссылку Telegram:</label>
    <input type="text" name="preview_telegram_url" id="preview_telegram_url" placeholder="https://t.me/ваш_канал/124">
    <br><br>

    <label for="preview_file">Или загрузить превью с компьютера:</label>
    <input type="file" name="preview_file" id="preview_file" accept="image/*">
    <br><br>
    <!-- КОНЕЦ НОВОГО -->

    <button type="submit">Добавить контент</button>
</form>
{% endblock %}
